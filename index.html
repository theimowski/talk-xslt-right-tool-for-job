<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>XSLT - Use the Right Tool for the Job</title>
    <meta name="description" content="XSLT - Use the Right Tool for the Job">
    <meta name="author" content="Tomasz Heimowski">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="//code.jquery.com/jquery-1.8.0.js"></script>
    <script src="//code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/white.css" id="theme">
    <link type="text/css" rel="stylesheet" href="fsharp.formatting/styles/style.css" />
    <link type="text/css" rel="stylesheet" href="fsharp.formatting/styles/deedle.css" />
    <link type="text/css" rel="stylesheet" href="css/custom.css" />
    <script src="fsharp.formatting/styles/tips.js" type="text/javascript"></script>
    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">
    <link rel="stylesheet" href="css/fsreveal.css">
    <!-- If the query includes 'print-pdf', include the PDF print sheet -->
    <script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
    </script>
    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
    <script language="javascript" type="text/javascript">
        function init()
        {
            websocket = new WebSocket("ws://"+window.location.host+"/websocket");
            websocket.onmessage = function(evt) { location.reload(); };
        }
        window.addEventListener("load", init, false);
    </script>
</head>
<body>
    <div class="reveal">
        
        <!-- Any section element inside of this container is displayed as a slide -->
        <div class="slides">
            <section >
<section data-background="images/wrench.jpg">
<h1>XSLT</h1>
</br>
</br>
</br>
</br>
</br>
<h3>Use the Right Tool for the Job</h3>
<aside class="notes">
Who knows what XSLT is?<br/>
Who thinks XSLT is unpleasant?<br/>
Who writes XSLT regularly?<br/>
</aside>
</section>
<section >
<img src="images/me.png" width="30%"/>
<h3>Tomasz Heimowski</h3>
<p><a href="http://theimowski.com/">http://theimowski.com/</a></p>
<p>@theimowski</p>
<p><img src="images/ihsmarkit.svg" alt="ihsmarkit" /></p>
<aside class="notes">
boast about FP, F#, OSS, GitBook?<br/>
</aside>
</section>
</section>
<section >
<section data-background="images/intent.jpeg">
<h2>Intent</h2>
</br>
<aside class="notes">
Divide talk into several parts<br/>
Why I'm here talking XSLT<br/>
What I'd like you to get from this talk<br/>
</aside>
</section>
<section data-background="images/dentist.jpg">
<aside class="notes">
In my short carreer I've managed to spot<br/>
2 contrary (negative) attitudes: cool tech kids vs comfort zone <br/>
We often express reluctance for specific technology, avoid it and try different solutions, while we could have used a dedicated tool (technology) in a proper manner to tackle the problem efficiently.<br/>
We avoid leaving comfort zone just as we avoid the dentists<br/>
</aside>
</section>
<section data-background="images/horizon.jpg">
<aside class="notes">
This is not supposed to be a strictly technical talk, but I'd also like to send a message that we should be more open and reach for right tools when needed.  <br/>
</aside>
</section>
<section data-background="images/success.jpg">
<aside class="notes">
To do so I'd like to share our success story with XSLT in PDF component in Phoenix, plus show a couple of tips & tricks while working with XSLT.<br/>
</aside>
</section>
<section data-background="images/alone.jpg">
<aside class="notes">
Share the story about CFP for DevDay and "Come on, XSLT?"<br/>
I'm happy to talk about niche XSLT, to prove that you can do really cool stuff with even unfamous technologies<br/>
Interesting task, XSLT challenging and requires different thinking<br/>
</aside>
</section>
</section>
<section >
<section data-background="images/context2.jpg">
<h2>&emsp;&emsp;&emsp;Context</h2>
</br>
</br>
</br>
<aside class="notes">
What we do<br/>
What problem to solve<br/>
Why XSLT<br/>
</aside>
</section>
<section data-background="images/firebird.jpg">
<aside class="notes">
IHS Markit big corporation providing information in various domains<br/>
PD&D dept primarily responsible for visualising and storing the information<br/>
Many CMS inside company<br/>
Show what we do in Phoenix project<br/>
Phoenix to replace MANY (not all!) CMS in IHS Markit<br/>
to UNIFY Authoring Experience <br/>
</aside>
</section>
<section data-background="images/digitalpub.jpg">
<aside class="notes">
One of most important aspects in Phoenix is Digital (Electronic) Publishing<br/>
Two channels, focus on PDF<br/>
Describe digital publishing and explain the importance of its AUTOMATION in IHS Markit<br/>
</aside>
</section>
<section data-background="images/bigpicture.png">
<aside class="notes">
Present big picture of PDF publishing architecture in Phoenix<br/>
Highlight the XSLT building block in PDF rendition flow<br/>
Mention Full auto and SEMI AUTO layout<br/>
</aside>
</section>
<section data-background="images/beginner.jpg">
<aside class="notes">
Review the level of knowledge at the beginning of working on the transform<br/>
Challenge accepted<br/>
</aside>
</section>
<section >
<h2>XSLT Quickly</h2>
<p><img src="images/xslt_quickly.jpg" alt="xslt_quickly.jpg" /></p>
<p><a href="https://amzn.com/1930110111">https://amzn.com/1930110111</a></p>
<h4>based on xslt 1.0 !</h4>
</section>
<section data-background="images/climbing.jpg">
<aside class="notes">
Share how the approach advanced while developing the transform<br/>
Start with XSLT 1.0, then moved iteratively to 2.0<br/>
Functional Programming influenced the approach<br/>
Continuous delivery pipeline - how many deployments, fast feedback loop, F# scripts, going forward without rolling back<br/>
Continuous delivery demo<br/>
</aside>
</section>
<section data-background-video="images/capture.wmv">
<h2>PDF Diff DEmo</h2>
<p><a href="https://vslavik.github.io/diff-pdf/">https://vslavik.github.io/diff-pdf/</a></p>
</section>
<section data-background="images/learning.jpg">
<aside class="notes">
I'm not an expert<br/>
Many other smart people<br/>
I'm still learning<br/>
But this experience lets me share a few XSLT tips<br/>
</aside>
</section>
</section>
<section >
<section data-background="images/profit.jpg">
<h2>Profit</h2>
</br>
</br>
</br>
<aside class="notes">
Results drive motivation<br/>
</aside>
</section>
<section >
<h4>Template: Full Cover</h4>
<img src="images/front_fc.png" style="display: inline-block;vertical-align:middle" width="48%"/>
</section>
<section >
<h4>Template: Masthead with Right pane</h4>
<img src="images/front_mhrp.png" style="display: inline-block;vertical-align:middle" width="48%"/>
</section>
<section >
<h4>Template: Masthead with few contacts</h4>
<img src="images/front_mhco.png" style="display: inline-block;vertical-align:middle" width="48%"/>
</section>
<section >
<h4>Template: Masthead with more contacts</h4>
<img src="images/front_mhbp.png" style="display: inline-block;vertical-align:middle" width="48%"/>
</section>
<section >
<h4>Template: Masthead with 2 columns</h4>
<img src="images/front_mh2co.png" style="display: inline-block;vertical-align:middle" width="48%"/>
</section>
<section >
<h4>Template: Masthead for specific brand</h4>
<img src="images/front_mh2et.png" style="display: inline-block;vertical-align:middle" width="100%"/>
</section>
<section >
<h4>Columns: 1 column text flow</h4>
<img src="images/1col.png" style="display: inline-block;vertical-align:middle" />
</section>
<section >
<h4>Columns: 2 columns text flow</h4>
<img src="images/2col.png" style="display: inline-block;vertical-align:middle"/>
</section>
<section >
<h4>Charts &amp; tables layout: Centered</h4>
<div >
    <img src="images/centered_1.png" style="display: inline-block;vertical-align:middle" width="48%"/>
    <img src="images/centered_2.png" style="display: inline-block;vertical-align:middle" width="48%"/>
</div>
</section>
<section >
<h4>Charts &amp; tables layout: aligned Left</h4>
<div >
    <img src="images/left1.png" style="display: inline-block;vertical-align:middle" width="48%"/>
    <img src="images/left2.png" style="display: inline-block;vertical-align:middle" width="48%"/>
</div>
</section>
<section >
<h4>Charts &amp; tables layout: aligned Right</h4>
<div >
    <img src="images/right_align_1.png" style="display: inline-block;vertical-align:middle" width="48%"/>
    <img src="images/right_align_2.png" style="display: inline-block;vertical-align:middle" width="48%"/>
</div>
</section>
<section >
<h4>Charts &amp; tables layout: Grouped</h4>
<div >
    <img src="images/grouped_1.png" style="display: inline-block;vertical-align:middle" width="48%"/>
    <img src="images/grouped_2.png" style="display: inline-block;vertical-align:middle" width="48%"/>
</div>
</section>
<section >
<h4>Charts &amp; tables layout: Full width</h4>
<div >
    <img src="images/full_width_1.png" style="display: inline-block;vertical-align:middle" width="48%"/>
    <img src="images/full_width_2.png" style="display: inline-block;vertical-align:middle" width="48%"/>
</div>
</section>
<section >
<h4>Charts &amp; tables layout: Landscape</h4>
<div>
    <img src="images/features_04_landscape.png" style="display: inline-block;vertical-align:middle" width="80%"/>
</div>
</section>
<section >
<h4>Running heads: facing pages</h4>
<div >
    <img src="images/facing_pages.png" style="display: inline-block;vertical-align:middle" width="96%"/>
</div>
</section>
<section >
<h2>and many more features...</h2>
<p><img src="images/report-level-attrs.png" alt="report-level-attrs.png" /></p>
</section>
<section >
<h3>numbers</h3>
<ul>
<li>~2.000 XSLT LOC</li>
<li>
3 IHS Markit Domains
<ul>
<li>Chemical</li>
<li>Economics</li>
<li>Energy</li>
</ul>
</li>
<li>
~2.000 PDF Reports Generated
<ul>
<li>1 page long (smallest report)</li>
<li>300 pages long (largest report)</li>
</ul>
</li>
<li>~20.000 Pages of content</li>
<li>Much more yet to come</li>
</ul>
<aside class="notes">
Chemical - complete migration of a legacy CMS hard to maintain<br/>
Some of those reports cost a lot of money<br/>
</aside>
</section>
</section>
<section >
<section data-background="images/practice.jpg">
<h2>Practice</h2>
<aside class="notes">
technical stuff<br/>
will be snippets - don't need to follow up<br/>
tips & tricks<br/>
biggest pains?<br/>
solutions to some of the pains<br/>
Main theme: Utilize new xslt features, think functional<br/>
</aside>
</section>
<section data-background="images/unconventional.jpg">
<aside class="notes">
Note that we didn't stick to the conventional approach<br/>
Influence of FP<br/>
</aside>
</section>
<section >
<h3>Implicit</h3>
<p><img src="images/implicit.png" alt="implicit" /></p>
<aside class="notes">
Conventional approach is to define multiple templates matching a pattern and rely on "apply-templates" instruction.<br/>
Fine for simple transforms, input similar to output.<br/>
However when a transform gets bigger and bigger it's hard to reason about those templates directly.<br/>
Specially when the schemes of transform's input and output differ a lot.<br/>
In addition one might get template matching conflicts which are not always easy to resolve - priorities.<br/>
</aside>
</section>
<section >
<h3>Explicit</h3>
<p><img src="images/explicit.png" alt="explicit" /></p>
</section>
<section data-background="images/complex.jpg">
<aside class="notes">
* Complex instructions<br/>
* functional stuff in new XSLT<br/>
* XPath power<br/>
* Utilize functions<br/>
* Static Typing capabilities<br/>
* ? "Group by" capabilities<br/>
</aside>
</section>
<section >
<h3>XPath</h3>
<h4>Inovice sum</h4>
<p><img src="images/invoice.png" alt="invoice.png" /></p>
<p>Expected sum: <em>150</em></p>
</section>
<section >
<h4>Inovice sum - XSLT 1.0 with recursion</h4>
<p><img src="images/xslt1rec.png" alt="xslt1rec.png" /></p>
<aside class="notes">
not going to analyze this snippet<br/>
only need to know that recursion is used here<br/>
explain algorithm with C#<br/>
</aside>
</section>
<section >
<h4>Inovice sum - C# with recursion</h4>
<p><img src="images/csharprec.png" alt="csharprec.png" /></p>
</section>
<section >
<h4>Invoice sum - C# LINQ expression</h4>
<p><img src="images/csharplinq.png" alt="csharplinq.png" /></p>
</section>
<section >
<h4>Inovice sum - XSLT 3.0 with XPath 3.1</h4>
<p><img src="images/xslt3xpath.png" alt="xslt3xpath.png" /></p>
</section>
<section >
<h4>XPath features</h4>
<ul>
<li>expressions: conditional, quantified, logic, etc...</li>
<li>concise syntax</li>
<li>list collect</li>
<li>list map</li>
<li>list filter</li>
<li>functions</li>
<li>arrow operator</li>
<li>let bindings</li>
</ul>
<p><a href="http://www.saxonica.com/documentation/index.html#!expressions">http://www.saxonica.com/documentation/index.html#!expressions</a></p>
<aside class="notes">
XPath is a language itself<br/>
</aside>
</section>
<section >
<h4>Formatting richtext - named templates</h4>
<p><img src="images/lists_named_templ.png" alt="lists_named_templ.png" /></p>
</section>
<section >
<h4>Formatting richtext - functions</h4>
<p><img src="images/lists_fun.png" alt="lists_fun.png" /></p>
</section>
<section >
<h4>XSLT Functions</h4>
<ul>
<li>More concise syntax</li>
<li>Can be used in XPath expressions</li>
<li>Isolated - no implicit context nodes</li>
</ul>
</section>
<section >
<h3>Static Typing</h3>
<p><img src="images/static_typing_mistake.png" alt="static_typing_mistake.png" /></p>
<p><img src="images/static_typing_error.png" alt="static_typing_error.png" /></p>
</section>
<section data-background="images/tree.jpg">
<aside class="notes">
Pessimist: Terse XML syntax<br/>
Optimist: There are pros of XML syntax<br/>
</aside>
</section>
<section >
<h3>XML syntax</h3>
<h4>Applying discounts</h4>
<p><img src="images/invoice.png" alt="invoice.png" /></p>
<ul>
<li>Get 30% discount for product with "002" sku</li>
<li>Buy 3 for 2 products with "003" sku</li>
<li>Expected sum after discounts: <em>109</em></li>
</ul>
</section>
<section >
<h3>Applying discounts</h3>
<p><img src="images/declarative_xml.png" alt="declarative_xml.png" /></p>
</section>
<section >
<h3>Applying discounts</h3>
<p><img src="images/applydiscount.png" alt="applydiscount.png" /></p>
<aside class="notes">
Also good for returning bigger chunks of bare XML<br/>
Mixing XPath code with XML syntax = more concise<br/>
</aside>
</section>
<section data-background="images/diagnostics.jpg">
<aside class="notes">
Pessimist: XSLT is Hard to diagnose<br/>
Optimist: With FP I hardly need to debug. Also I can profile<br/>
</aside>
</section>
<section >
<h4>Debugging</h4>
<p><img src="images/debugapplydiscount.png" alt="debugapplydiscount.png" /></p>
<aside class="notes">
red squares?<br/>
</aside>
</section>
<section >
<p><img src="images/mydebug.png" alt="mydebug.png" /></p>
</section>
<section >
<p><img src="images/debugconsole.png" alt="debugconsole.png" /></p>
</section>
<section >
<h4>Profiling</h4>
<p><img src="images/profiling.png" alt="profiling.png" /></p>
</section>
<section data-background="images/tooling.jpg">
<aside class="notes">
Poor tooling<br/>
Oxygen XML Editor<br/>
Rather nothing more than standard XML tooling<br/>
tooling might not be crucial - code is not so terse anymore<br/>
Use scripts for testing the transform<br/>
Editor extensions?<br/>
</aside>
</section>
<section >
<p><img src="images/highlight.png" alt="higlight.png" /></p>
</section>
<section >
<p><img src="images/no_highlight.png" alt="no higlight.png" /></p>
</section>
<section data-background="images/property.jpg">
<aside class="notes">
Saxon's monopoly<br/>
Supplements for free-version processor<br/>
</aside>
</section>
<section >
<h4>Only in commercial Saxon Editions</h4>
<ul>
<li>higher-order functions</li>
<li>schema-awareness</li>
<li>streaming</li>
<li>various performance optimizations</li>
<li>more extension points</li>
</ul>
<p><a href="http://www.saxonica.com/products/feature-matrix-9-6.xml">http://www.saxonica.com/products/feature-matrix-9-6.xml</a></p>
</section>
</section>
<section >
<section data-background="images/recap.jpg">
<h2 style="color: white">&nbsp;&nbsp;Recap</h2>
<aside class="notes">
lessons learned<br/>
</aside>
</section>
<section data-background="images/tools.jpg">
<aside class="notes">
the very purpose of XSLT is to transform XML documents<br/>
One can handle XSLT to use it without big pain<br/>
It's not just about XSLT<br/>
</aside>
</section>
<section data-background="images/stars.jpg">
<aside class="notes">
We don't have to avoid unknown tools / technologies<br/>
We can discover interesting ways of using these tools to improve our process<br/>
</aside>
</section>
<section data-background="images/goal.jpg">
<aside class="notes">
In the end what really matters is the final result that has business value<br/>
</section>
</section>


        </div>
    </div>
    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>
    <script>
        // Add the nohighlight class and data-noescape attribute to code elements that have already been formatted by FSharp.Formatting
        $('pre.highlighted code').addClass('nohighlight').attr('data-noescape', '');

        // Full list of configuration options available here:
        // https://github.com/hakimel/reveal.js#configuration
        Reveal.initialize({
            controls: true,
            progress: true,
            history: true,
            center: true,

            transition: 'slide', // default/cube/page/concave/zoom/linear/fade/none

            // Parallax scrolling
            // parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
            // parallaxBackgroundSize: '2100px 900px',

            // Optional libraries used to extend on reveal.js
            dependencies: [
                { src: 'lib/js/classList.js', condition: function () { return !document.body.classList; } },
                { src: 'plugin/markdown/marked.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
                { src: 'plugin/markdown/markdown.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
                { src: 'plugin/highlight/highlight.js', async: true, callback: function () { hljs.initHighlightingOnLoad(); } },
                { src: 'plugin/zoom-js/zoom.js', async: true, condition: function () { return !!document.body.classList; } },
                { src: 'plugin/notes/notes.js', async: true, condition: function () { return !!document.body.classList; } }
            ]
        });

    </script>
</body>
</html>

